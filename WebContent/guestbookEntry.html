<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" type="text/css" media="screen" href="browserstyle.css">
<link rel="stylesheet" type="text/css" media="print" href="printerstyle.css">
<script type="text/javascript" src="jquery-2.1.3.min.js"></script>


<title>Neuer Gästebuch-Eintrag</title>
</head>

<header>
		<h1>FHV - Gästebuch</h1>
</header>

<body>
	<div id="shadow"></div>
	<!--vertikales menü -->
	<nav>
		<img id="fhvLogo" alt="FHV Logo" src="Images/FHV_Pos_148x148_VUOAS_300dpi.png">
		<h3>Sommersemester<br> 2015</h3>
		<div id="shadow"></div><br>
		<ul class="submenu">
			<li><a href="index.html" title="Übersicht">Übersicht</a></li>
			<li><a href="coursesItb2.html" title="ITB2">ITB 2</a></li>
			<li><a href="coursesItb4.html" title="ITB4">ITB 4</a></li>
		</ul>
		<div id="shadow"></div>
		<br>
		<div id="innerNav">
			<p><a href="registrierung.html" title="registrierung">Registrierung</a></p>
			<p><a href="photos.html">Photos</a></p>
			<p><a href="guestbook.html">Gästebuch</a></p>
			<p><a href="mailto:kdeuring@gmail.com"><img id="icon" src="Images/icon_brief_0.png"  name="Email an Administrator"></img>Kontakt</a></p>
		</div>
	</nav>
	
	<!-- textueller inhalt -->
	<section>
		<form id="form" enctype="text/plain" action="http://localhost:8080/UE5Guestbook/Guestbook" method="get">
		<h1>FHV - Gästebuch</h1>
		<h3>Erstellen Sie einen neuen Gästebucheintrag</h3>
		
			<pre>
<b>Name:</b>		<input type="text" size="40" name="name">
		
<b>E-Mail:</b>		<input type="email" size="40" name="email">
				
<b>Comment:</b>	<textarea name="comment" rows="10" cols="42"></textarea>
							
				<input type="reset" id="reset" value="Reset">	<input type="submit" id="submit" value="Submit">
			</pre>
		</form>
	</section>
	<script type="text/javascript">
	$(document).ready(function(){
		$('#submit').click(function(e){
			var error = validateForm();
			 if(error)
				{
					e.preventDefault();
				} 
		});

		function validateForm(){
			var emailRegEx = /^[A-Za-z][\w-]+[\.]?[\w-]*@([\w-]+\.)+[\w-]+$/;
			
			var name = $("input[name='name']");
			var comment = $("textarea[name='comment']");
			var email = $("input[name='email']");
			
			$('.error').remove();
			error = false;
			
			// Textfelder dürfen nicht leer sein
			if(name.val() == ""){
				alert("Geben Sie eine Namen ein");
				if(!error){
					name.focus();
				}
				error = true;
			}
			if(comment.val() == ""){
				alert("Geben Sie einen Kommentar ein.");
				if(!error){
					comment.focus();
				}
				error = true;
			}
			if(email.val() == ""){
				alert("Geben Sie eine Emailadresse ein.");
				if(!error){
					email.focus();
				}
				error = true;
			}
			
			// Email
			if(!emailRegEx.test(email.val()) && email.val() != ""){
				alert("Fehlerhafte E-mail.");
				if(!error){
					email.focus();
				}
				error = true;
			}
			
			if(!error){
				//$('#guestbook').attr("src", "http://localhost:8080/UE5Guestbook/Guestbook?name=" + name.val() + "&email=" + email.val() + "&comment=" + comment.val());
				alert("Thank you for your guestbook entry!");
				//$('#guestbook').attr("src", "http://localhost:8080/UE5Guestbook/Guestbook");                    
			}
		}
		
		$('#reset').click(function(){
			resetForm();   
		});
		
		function resetForm(){
			$('.error').remove();
		}
	});
	</script>
</body>
</html>